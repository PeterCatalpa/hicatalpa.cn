<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>使用Cloudflared Tunnel实现内网穿透详细教程</title>
    <link href="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/"/>
    <url>/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><p>1.电脑<br>2.域名<br>3.脑子</p><h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><h2 id="什么是内网穿透"><a href="#什么是内网穿透" class="headerlink" title="什么是内网穿透"></a>什么是内网穿透</h2><p>内网穿透是一个非常重要的东西，它能让我们本地的一个端口开放到公网，让公网的其他人来访问。如果没有内网穿透，那么这个端口只能在私网（可能就是你家的局域网）里被访问到。举个例子，我开了一台Minecraft服务器，想让我的好朋友来玩，这时如果没有内网穿透（除非你有公网ip），那么你的好朋友甚至都连接不上你的服务器。</p><h2 id="为什么选择Cloudflared-Tunnel"><a href="#为什么选择Cloudflared-Tunnel" class="headerlink" title="为什么选择Cloudflared Tunnel"></a>为什么选择Cloudflared Tunnel</h2><p>众所周知，内网穿透国内有很多，比如Sakura Frp、OpenFrp、花生壳内网穿透，但是这些内网穿透不是要实名认证，就是要money，显然，这些都是对我们不太友好的。并且Cloudflared Tunnel有着更多在安全性上的服务。于是在众多的内网穿透服务商中，我选择了Cloudflared Tunnel。</p><h2 id="Cloudflared-Tunnel的一些问题"><a href="#Cloudflared-Tunnel的一些问题" class="headerlink" title="Cloudflared Tunnel的一些问题"></a>Cloudflared Tunnel的一些问题</h2><p>首先，免费版的Cloudflared Tunnel服务器实在国外的，所以访问速度会比较慢，同时尽管有TCP的选项，但是似乎是不可用的。除此之外，UDP的协议也是不支持的，这样一来，Cloudflared Tunnel或许对于部分没有公网ip的服主不太友好。不过Cloudflared Tunnel整一个web项目也是可以的。</p><h1 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h1><h2 id="注册Cloudflare账号（如果有账号，请跳过此步骤）"><a href="#注册Cloudflare账号（如果有账号，请跳过此步骤）" class="headerlink" title="注册Cloudflare账号（如果有账号，请跳过此步骤）"></a>注册Cloudflare账号（如果有账号，请跳过此步骤）</h2><p>首先，打开<a href="https://www.cloudflare.com/">Cloudflare官网</a>。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/1.png"><br>点击注册，这时网页会跳转到注册界面。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/2.png"><br>语言可能是英文的。可以点击右上角的English，选择简体中文。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/3.png"><br>填入自己的电子邮件，并自定义一个密码。“我愿意偶尔收到有关 Cloudflare 产品、服务和活动的电子邮件更新和特别优惠。”的格子可以勾上，也可以不勾。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/4.png"><br>当出现类似下面的界面时，说明Cloudflare账户注册成功了。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/5.png"><br>注册完之后，记得验证邮箱，否则无法使用Cloudflared Tunnel。</p><h2 id="将自己的域名添加到Cloudflare"><a href="#将自己的域名添加到Cloudflare" class="headerlink" title="将自己的域名添加到Cloudflare"></a>将自己的域名添加到Cloudflare</h2><p>在购买域名的域名服务商那里把第一个NameServer改成arch.ns.cloudflare.com，第二个改成nina.ns.cloudflare.com。由于域名服务商过多，这里就不做演示了。<br>登录Cloudflare，点击“开始使用”。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/6.png"><br>输入自己的域名，点击“继续”。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/7.png"><br>选择Free计划。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/8.png"><br>点击“继续”。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/9.png"><br>后面照着提示去做就可以了。</p><h2 id="下载Cloudflare可执行文件"><a href="#下载Cloudflare可执行文件" class="headerlink" title="下载Cloudflare可执行文件"></a>下载Cloudflare可执行文件</h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><p>打开<a href="https://github.com/cloudflare/cloudflared/releases/">https://github.com/cloudflare/cloudflared/releases/</a> ，可以看到这样的页面。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/10.png"><br>找到合适自己电脑的版本，我的电脑是64位的，所以选择cloudflared-windows-amd64.exe的版本。</p><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><p>如果连接不上的话，就从下面的链接下载。<br><a href="https://petercatalpa.lanzoue.com/i06Xy15waecf">64位</a>（密码7fru）。<a href="https://petercatalpa.lanzoue.com/i5WB815waj7a">32位</a>（密码：51ed）</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="授权域名"><a href="#授权域名" class="headerlink" title="授权域名"></a>授权域名</h3><p>把下载下来的文件名改为cloudflared.exe，并在此目录下按下shift和鼠标右键，选择“在终端中打开”，输入如下命令。</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">cloudflared </span>tunnel login<br><span class="hljs-comment">#Windows输入这个：</span><br><span class="hljs-comment">#./cloudflared.exe tunnel login</span><br></code></pre></td></tr></table></figure><p>这时浏览器会跳出登录窗口。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/11.png"><br>点击你要使用的域名，点击授权。<br>完成后，会有这样的窗口。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/12.png"><br>打开终端，也会显示登录成功。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/13.png"></p><h3 id="创建隧道"><a href="#创建隧道" class="headerlink" title="创建隧道"></a>创建隧道</h3><p>在终端中输入以下命令，创建隧道。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">cloudflared</span> tunnel create<span class="hljs-meta"> [名字]</span><br><span class="hljs-comment">#Windows输入这个：</span><br><span class="hljs-comment">#./cloudflared.exe tunnel create [名字]</span><br></code></pre></td></tr></table></figure><p>名字是可以自定义的，但是不能重复。如果想要查看已经创建的隧道的话，可以输入以下命令。</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">cloudflared </span>tunnel list<br><span class="hljs-comment">#Windows输入这个：</span><br><span class="hljs-comment">#./cloudflared.exe tunnel list</span><br></code></pre></td></tr></table></figure><p>如果要删除，可以输入以下命令删除。</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">cloudflared</span> tunnel delete<span class="hljs-meta"> [名字]</span><br><span class="hljs-comment">#Windows输入这个：</span><br><span class="hljs-comment">#./cloudflared.exe tunnel delete [名字]</span><br></code></pre></td></tr></table></figure><h3 id="配置路由"><a href="#配置路由" class="headerlink" title="配置路由"></a>配置路由</h3><p>这一步是把隧道绑定到自己的域名上。</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">cloudflared</span> <span class="hljs-selector-tag">tunnel</span> <span class="hljs-selector-tag">route</span> <span class="hljs-selector-tag">dns</span> <span class="hljs-selector-attr">[名字或者 UUID]</span> <span class="hljs-selector-attr">[想要绑定到的域名或其二级域名]</span><br><span class="hljs-selector-id">#Windows</span>输入这个：<br>#./<span class="hljs-selector-tag">cloudflared</span><span class="hljs-selector-class">.exe</span> <span class="hljs-selector-tag">tunnel</span> <span class="hljs-selector-tag">route</span> <span class="hljs-selector-tag">dns</span> <span class="hljs-selector-attr">[名字或者 UUID]</span> <span class="hljs-selector-attr">[想要绑定到的域名或其二级域名]</span><br></code></pre></td></tr></table></figure><h3 id="启动隧道"><a href="#启动隧道" class="headerlink" title="启动隧道"></a>启动隧道</h3><h4 id="http-x2F-https服务"><a href="#http-x2F-https服务" class="headerlink" title="http&#x2F;https服务"></a>http&#x2F;https服务</h4><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">cloudflared tunnel --name [隧道名称] --url <span class="hljs-link">http://</span>[<span class="hljs-string">站点地址</span>]<br>#Windows输入这个：<br>#cloudflared tunnel --name [隧道名称] --url <span class="hljs-link">http://</span>[<span class="hljs-string">站点地址</span>]<br></code></pre></td></tr></table></figure><h4 id="TCP服务"><a href="#TCP服务" class="headerlink" title="TCP服务"></a>TCP服务</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus">cloudflared tunnel <span class="hljs-attr">--name</span> <span class="hljs-selector-attr">[隧道名称]</span> <span class="hljs-attr">--url</span> tcp:<span class="hljs-comment">//[服务地址]</span><br>#Windows输入这个：<br><span class="hljs-selector-id">#cloudflared</span> tunnel <span class="hljs-attr">--name</span> <span class="hljs-selector-attr">[隧道名称]</span> <span class="hljs-attr">--url</span> tcp:<span class="hljs-comment">//[服务地址]</span><br></code></pre></td></tr></table></figure><p>运行任务大概就是这样。<br><img src="/posts/%E4%BD%BF%E7%94%A8Cloudflared-Tunnel%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/14.png"></p><h3 id="配置开机自启（可选）"><a href="#配置开机自启（可选）" class="headerlink" title="配置开机自启（可选）"></a>配置开机自启（可选）</h3><p>如果想要让这个服务在电脑开机时自动启动，我们可以在cloudflared.exe的目录下创建一个bat文件，内容是</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">cd [cloudflared.exe所在的路径]<br>cloudflared tunnel --name [隧道名称] --url <span class="hljs-link">http://</span>[<span class="hljs-string">站点地址</span>] 或 cloudflared tunnel --name [隧道名称] --url tcp://[服务地址]<br>#Windows输入这个：<br>#cd [cloudflared.exe所在的路径]<br>#./cloudflared.exe tunnel --name [隧道名称] --url <span class="hljs-link">http://</span>[<span class="hljs-string">站点地址</span>] 或 ./cloudflared.exe tunnel --name [隧道名称] --url tcp://[服务地址]<br></code></pre></td></tr></table></figure><p>保存后，右键，创建这个bat文件的快捷方式，在地址栏中输入shell:startup，在跳转到的目录中把快捷方式复制进去就可以了。<br>重启电脑，隧道就自动启动了！</p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>弄完这些，我们便把Cloudflared Tunnel搞好了，<del>如果你够懒</del>，可以把所有的项目都开机自启，便达到了“开机，就是开了所有”的境界。</p>]]></content>
    
    
    
    <tags>
      
      <tag>教程</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>The Ceiling of the American Robbers</title>
    <link href="/posts/The-Ceiling-of-the-American-Robbers/"/>
    <url>/posts/The-Ceiling-of-the-American-Robbers/</url>
    
    <content type="html"><![CDATA[<p>A week ago, there was a 27-year-old man named Khider. He was so poor that he was nearly crazy. One day, when he sat in a corner on the street, he came up with a crazy idea. “Why not rob a bank?” he thought.<br>After that, he walked around the bank every day so that he could rob the bank. He wanted to climb to the ceiling but he was too short. Suddenly he noticed a rubbish bin, it’s enough tall and strong. There was a big hole on the ceiling. It seemed like an overhaul in here. He came up with a crazy idea again.He climbed up the rubbish bin and reached the ceiling. He crawled quietly and nobody noticed him. He robbed the bank so successfully that he couldn’t believe it. After robbing, he reached the hole on the ceiling and jumped into the rubbish bin. To his surprise, some policemen were hiding. He was caught at once.</p>]]></content>
    
    
    
    <tags>
      
      <tag>International Jokes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>A “Powerful” Lady</title>
    <link href="/posts/A-Powerful-Lady/"/>
    <url>/posts/A-Powerful-Lady/</url>
    
    <content type="html"><![CDATA[<p>Long long ago, there was an old lady. She was very rich and madcap. She wanted to show her wealth, so she inlaid with a golden tooth. But when this old lady reached her home, her teeth became more and more painful. She thought it was only a little matter at first. But several hours later, she couldn’t stand this ache. So she went to the hospital. She got a X-ray but the doctor couldn’t find out the problem. She sent her experience on Facebook. Some days later, a careful man found out that this old lady already had an aluminum denture. Gold and aluminum can discharge.<br>So, I can say “this lady was ‘powerful’. ”</p>]]></content>
    
    
    
    <tags>
      
      <tag>International Jokes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Light, but Voice Activated</title>
    <link href="/posts/Light-but-Voice-Activated/"/>
    <url>/posts/Light-but-Voice-Activated/</url>
    
    <content type="html"><![CDATA[<p>Several month ago, I broke a switch in our bathroom. And it was repaired last weekend. My mother told me happily: “This switch is voice activated. It will go off if you say ‘Kai deng’. And it will go out if you say ’Guan deng’.”<br>But I find out a big problem. When I take the shower. A light in our bathroom often goes out. Why? Because the switch is voice activated, and I am used to listening to the music when taking the shower. So I always say “Kai deng” loudly. It’s always embarrassed me.</p>]]></content>
    
    
    
    <tags>
      
      <tag>International Jokes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cleaner, but Lost His Job</title>
    <link href="/posts/Cleaner-but-Lost-His-Job/"/>
    <url>/posts/Cleaner-but-Lost-His-Job/</url>
    
    <content type="html"><![CDATA[<p>Once upon a time, there was a cleaner named John. He worked in a big supermarket.<br>Because of the COVID-19, many workers in the supermarket lost their job. He feared that he would lose his job like them, so he wanted to work very hard.But the supermarket was so clean that there was no place to clean up. He is worried about that. Suddenly, he came up with a special idea. In front of the shoppers, he make a drop of dropping and smeared it on the floor. All the supermarket was filled with the special smells.<br>At last, he lost his job.</p>]]></content>
    
    
    
    <tags>
      
      <tag>International Jokes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World!</title>
    <link href="/posts/hello-world/"/>
    <url>/posts/hello-world/</url>
    
    <content type="html"><![CDATA[<p>你好，欢迎来到我的网站hicatalpa.cn。<br>也没啥了，可以看看这里的议论文素材，别的整活<a href="https://catalpa.eu.org/">可以看这里</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>入站必刷</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>The Best Toilet</title>
    <link href="/posts/The%20Best%20Toilet/"/>
    <url>/posts/The%20Best%20Toilet/</url>
    
    <content type="html"><![CDATA[<p>There was a man who like traveling around the world. One day, he was in Weifang, Shandong. He had a stomachache because the weather was cold and windy. So he wanted to “relax himself” . He was nervous because he didn’t have any clean pants that time. Luckily, he found a toilet. This toilet was made of iron. There was a hole in the toilet and it smelled not good. But the man didn’t mind this because of his serious stomachache. He ran into the toilet and then felt well. Suddenly, a wind came heavily ang the toilet was gone. The man stood up and ran away at once.<br>Maybe he didn’t know that was a camera watching him in a corner.</p>]]></content>
    
    
    
    <tags>
      
      <tag>International Jokes</tag>
      
      <tag>孔明社</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>A Resourceful Man</title>
    <link href="/posts/A-Resourceful-Man/"/>
    <url>/posts/A-Resourceful-Man/</url>
    
    <content type="html"><![CDATA[<p>One day, a man who drank too much wine were driving a white car along the road. There were many high trees and small rivers nearly. He was a little happy because there was no policeman.<br>However, fire policemen in the car saw him and guarded against. The man was so afraid that he got off and left his car. The policemen also got off and ran to him. He thought maybe he could leave if he ran quickly. So he was running to the river. The policemen picked the guns and knives up and shouted loudly. The man was very scared so he jumped into a “river”. But he touched much shit and felt terrible. He also swam as quickly as he can. But the policemen used the long rod to take him up. Unluckily, he was lying in the pool where full of animals’ dropping.</p>]]></content>
    
    
    
    <tags>
      
      <tag>International Jokes</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
